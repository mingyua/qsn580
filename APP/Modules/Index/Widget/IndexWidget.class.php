<?phpclass IndexWidget extends Widget {    public function render($data){	$Model=new Model();	$data['ulist']=M('events')->order('id DESC')->limit(20)->select();	import('Class.Time',APP_PATH);	foreach($data['ulist'] as $k=> $v){	$data['ulist'][$k]['sTime']=Time::friendlyDate($v['time'],$type = 'mohu',$alt = 'false');	}		$db=M('userinfo');		$dbuser=M('user');		$field=array('u_nickname','u_motto','u_renqi');		  foreach($data['ulist'] as $k=>$v){//$k=>$v  是把数组压到$messagelist里面			$where=array('uid'=>$v['uid']);			$data['ulist'][$k]['uinfo']=$db->field($field)->where($where)->select();		  }		  foreach($data['ulist'] as $k=>$v){//$k=>$v  是把数组压到$messagelist里面			$where=array('id'=>$v['uid']);			$data['ulist'][$k]['um']=$dbuser->field('images')->where($where)->select();		  }	return $this->renderFile('',$data);	    }}?>